import{a as P}from"./useModelData.f512d420.js";import{r as V,a as A,J as R,K as L,L as w,o as G,b as T,f as E,t as k,u as N}from"./entry.109cc120.js";/**
 * Vue Currency Input 3.0.5
 * (c) 2018-2023 Matthias Stiller
 * @license MIT
 */var y;(function(n){n.symbol="symbol",n.narrowSymbol="narrowSymbol",n.code="code",n.name="name",n.hidden="hidden"})(y||(y={}));var p;(function(n){n.precision="precision",n.thousands="thousands",n.millions="millions",n.billions="billions"})(p||(p={}));const S=n=>n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),_=n=>n.replace(/^0+(0$|[^0])/,"$1"),I=(n,i)=>(n.match(new RegExp(S(i),"g"))||[]).length,z=(n,i)=>n.substring(0,n.indexOf(i)),$=[",",".","Ù«"],M="(0|[1-9]\\d*)";class W{constructor(i){var t,e,s,c,a,m;const{currency:u,currencyDisplay:g,locale:r,precision:o,accountingSign:h,useGrouping:f}=i;this.locale=r,this.options={currency:u,useGrouping:f,style:"currency",currencySign:h?"accounting":void 0,currencyDisplay:g!==y.hidden?g:void 0};const d=new Intl.NumberFormat(r,this.options),v=d.formatToParts(123456);this.currency=(t=v.find(({type:l})=>l==="currency"))===null||t===void 0?void 0:t.value,this.digits=[0,1,2,3,4,5,6,7,8,9].map(l=>l.toLocaleString(r)),this.decimalSymbol=(e=v.find(({type:l})=>l==="decimal"))===null||e===void 0?void 0:e.value,this.groupingSymbol=(s=v.find(({type:l})=>l==="group"))===null||s===void 0?void 0:s.value,this.minusSign=(c=d.formatToParts(-1).find(({type:l})=>l==="minusSign"))===null||c===void 0?void 0:c.value,this.decimalSymbol===void 0?this.minimumFractionDigits=this.maximumFractionDigits=0:typeof o=="number"?this.minimumFractionDigits=this.maximumFractionDigits=o:(this.minimumFractionDigits=(a=o==null?void 0:o.min)!==null&&a!==void 0?a:d.resolvedOptions().minimumFractionDigits,this.maximumFractionDigits=(m=o==null?void 0:o.max)!==null&&m!==void 0?m:d.resolvedOptions().maximumFractionDigits);const b=l=>z(l,this.digits[1]),x=l=>l.substring(l.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[1])+1);this.prefix=b(d.format(1)),this.suffix=x(d.format(1)),this.negativePrefix=b(d.format(-1)),this.negativeSuffix=x(d.format(-1))}parse(i){if(i){const t=this.isNegative(i);i=this.normalizeDigits(i),i=this.stripCurrency(i,t),i=this.stripSignLiterals(i);const e=this.decimalSymbol?`(?:${S(this.decimalSymbol)}(\\d*))?`:"",s=this.stripGroupingSeparator(i).match(new RegExp(`^${M}${e}$`));if(s&&this.isValidIntegerFormat(this.decimalSymbol?i.split(this.decimalSymbol)[0]:i,Number(s[1])))return+`${t?"-":""}${this.onlyDigits(s[1])}.${this.onlyDigits(s[2]||"")}`}return null}isValidIntegerFormat(i,t){const e={...this.options,minimumFractionDigits:0};return[this.stripCurrency(this.normalizeDigits(t.toLocaleString(this.locale,{...e,useGrouping:!0})),!1),this.stripCurrency(this.normalizeDigits(t.toLocaleString(this.locale,{...e,useGrouping:!1})),!1)].includes(i)}format(i,t={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}){return i!=null?i.toLocaleString(this.locale,{...this.options,...t}):""}toFraction(i){return`${this.digits[0]}${this.decimalSymbol}${this.onlyLocaleDigits(i.substr(1)).substr(0,this.maximumFractionDigits)}`}isFractionIncomplete(i){return!!this.normalizeDigits(this.stripGroupingSeparator(i)).match(new RegExp(`^${M}${S(this.decimalSymbol)}$`))}isNegative(i){return i.startsWith(this.negativePrefix)||this.minusSign===void 0&&(i.startsWith("(")||i.startsWith("-"))||this.minusSign!==void 0&&i.replace("-",this.minusSign).startsWith(this.minusSign)}insertCurrency(i,t){return`${t?this.negativePrefix:this.prefix}${i}${t?this.negativeSuffix:this.suffix}`}stripGroupingSeparator(i){return this.groupingSymbol!==void 0?i.replace(new RegExp(S(this.groupingSymbol),"g"),""):i}stripSignLiterals(i){return this.minusSign!==void 0?i.replace("-",this.minusSign).replace(this.minusSign,""):i.replace(/[-()]/g,"")}stripCurrency(i,t){return i.replace(t?this.negativePrefix:this.prefix,"").replace(t?this.negativeSuffix:this.suffix,"")}normalizeDecimalSeparator(i,t){return $.forEach(e=>{i=i.substr(0,t)+i.substr(t).replace(e,this.decimalSymbol)}),i}normalizeDigits(i){return this.digits[0]!=="0"&&this.digits.forEach((t,e)=>{i=i.replace(new RegExp(t,"g"),String(e))}),i}onlyDigits(i){return this.normalizeDigits(i).replace(/\D+/g,"")}onlyLocaleDigits(i){return i.replace(new RegExp(`[^${this.digits.join("")}]*`,"g"),"")}}class C{constructor(i){this.currencyFormat=i}}class q extends C{conformToMask(i,t=""){const e=this.currencyFormat.isNegative(i),s=d=>d===""&&e&&!(this.currencyFormat.minusSign===void 0?t===this.currencyFormat.negativePrefix+this.currencyFormat.negativeSuffix:t===this.currencyFormat.negativePrefix),c=d=>{if(s(d))return"";if(this.currencyFormat.maximumFractionDigits>0){if(this.currencyFormat.isFractionIncomplete(d))return d;if(d.startsWith(this.currencyFormat.decimalSymbol))return this.currencyFormat.toFraction(d)}return null};let a=i;a=this.currencyFormat.stripCurrency(a,e),a=this.currencyFormat.stripSignLiterals(a);const m=c(a);if(m!=null)return this.currencyFormat.insertCurrency(m,e);const[u,...g]=a.split(this.currencyFormat.decimalSymbol),r=_(this.currencyFormat.onlyDigits(u)),o=this.currencyFormat.onlyDigits(g.join("")).substr(0,this.currencyFormat.maximumFractionDigits),h=g.length>0&&o.length===0,f=r===""&&e&&(this.currencyFormat.minusSign===void 0?t===i.slice(0,-2)+this.currencyFormat.negativeSuffix:t===i.slice(0,-1));return h||f||s(r)?t:r.match(/\d+/)?{numberValue:+`${e?"-":""}${r}.${o}`,fractionDigits:o}:""}}class B extends C{conformToMask(i,t=""){if(i===""||this.currencyFormat.parse(t)===0&&this.currencyFormat.stripCurrency(t,!0).slice(0,-1)===this.currencyFormat.stripCurrency(i,!0))return"";const e=this.currencyFormat.isNegative(i),s=this.currencyFormat.stripSignLiterals(i)===""?-0:+`${e?"-":""}${_(this.currencyFormat.onlyDigits(i))}`/Math.pow(10,this.currencyFormat.maximumFractionDigits);return{numberValue:s,fractionDigits:s.toFixed(this.currencyFormat.maximumFractionDigits).slice(-this.currencyFormat.maximumFractionDigits)}}}const X={locale:void 0,currency:void 0,currencyDisplay:void 0,hideGroupingSeparatorOnFocus:!0,hideCurrencySymbolOnFocus:!0,hideNegligibleDecimalDigitsOnFocus:!0,precision:void 0,autoDecimalDigits:!1,valueRange:void 0,useGrouping:void 0,valueScaling:void 0};class j{constructor(i){this.el=i.el,this.onInput=i.onInput,this.onChange=i.onChange,this.addEventListener(),this.init(i.options)}setOptions(i){this.init(i),this.format(this.currencyFormat.format(this.validateValueRange(this.numberValue))),this.onChange(this.getValue())}getValue(){return{number:this.valueScaling&&this.numberValue!=null?this.toInteger(this.numberValue,this.valueScaling):this.numberValue,formatted:this.formattedValue}}setValue(i){const t=this.valueScaling!==void 0&&i!=null?this.toFloat(i,this.valueScaling):i;t!==this.numberValue&&(this.format(this.currencyFormat.format(this.validateValueRange(t))),this.onChange(this.getValue()))}init(i){this.options={...X,...i},this.options.autoDecimalDigits&&(this.options.hideNegligibleDecimalDigitsOnFocus=!1),this.el.getAttribute("inputmode")||this.el.setAttribute("inputmode",this.options.autoDecimalDigits?"numeric":"decimal"),this.currencyFormat=new W(this.options),this.numberMask=this.options.autoDecimalDigits?new B(this.currencyFormat):new q(this.currencyFormat);const t={[p.precision]:this.currencyFormat.maximumFractionDigits,[p.thousands]:3,[p.millions]:6,[p.billions]:9};this.valueScaling=this.options.valueScaling?t[this.options.valueScaling]:void 0,this.valueScalingFractionDigits=this.valueScaling!==void 0&&this.options.valueScaling!==p.precision?this.valueScaling+this.currencyFormat.maximumFractionDigits:this.currencyFormat.maximumFractionDigits,this.minValue=this.getMinValue(),this.maxValue=this.getMaxValue()}getMinValue(){var i,t;let e=this.toFloat(-Number.MAX_SAFE_INTEGER);return((i=this.options.valueRange)===null||i===void 0?void 0:i.min)!==void 0&&(e=Math.max((t=this.options.valueRange)===null||t===void 0?void 0:t.min,this.toFloat(-Number.MAX_SAFE_INTEGER))),e}getMaxValue(){var i,t;let e=this.toFloat(Number.MAX_SAFE_INTEGER);return((i=this.options.valueRange)===null||i===void 0?void 0:i.max)!==void 0&&(e=Math.min((t=this.options.valueRange)===null||t===void 0?void 0:t.max,this.toFloat(Number.MAX_SAFE_INTEGER))),e}toFloat(i,t){return i/Math.pow(10,t??this.valueScalingFractionDigits)}toInteger(i,t){return Number(i.toFixed(t??this.valueScalingFractionDigits).split(".").join(""))}validateValueRange(i){return i!=null?Math.min(Math.max(i,this.minValue),this.maxValue):i}format(i,t=!1){if(i!=null){this.decimalSymbolInsertedAt!==void 0&&(i=this.currencyFormat.normalizeDecimalSeparator(i,this.decimalSymbolInsertedAt),this.decimalSymbolInsertedAt=void 0);const e=this.numberMask.conformToMask(i,this.formattedValue);let s;if(typeof e=="object"){const{numberValue:c,fractionDigits:a}=e;let{maximumFractionDigits:m,minimumFractionDigits:u}=this.currencyFormat;this.focus?u=t?a.replace(/0+$/,"").length:Math.min(m,a.length):Number.isInteger(c)&&!this.options.autoDecimalDigits&&(this.options.precision===void 0||u===0)&&(u=m=0),s=this.toInteger(Math.abs(c))>Number.MAX_SAFE_INTEGER?this.formattedValue:this.currencyFormat.format(c,{useGrouping:this.options.useGrouping!==!1&&!(this.focus&&this.options.hideGroupingSeparatorOnFocus),minimumFractionDigits:u,maximumFractionDigits:m})}else s=e;this.maxValue<=0&&!this.currencyFormat.isNegative(s)&&this.currencyFormat.parse(s)!==0&&(s=s.replace(this.currencyFormat.prefix,this.currencyFormat.negativePrefix)),this.minValue>=0&&(s=s.replace(this.currencyFormat.negativePrefix,this.currencyFormat.prefix)),(this.options.currencyDisplay===y.hidden||this.focus&&this.options.hideCurrencySymbolOnFocus)&&(s=s.replace(this.currencyFormat.negativePrefix,this.currencyFormat.minusSign!==void 0?this.currencyFormat.minusSign:"(").replace(this.currencyFormat.negativeSuffix,this.currencyFormat.minusSign!==void 0?"":")").replace(this.currencyFormat.prefix,"").replace(this.currencyFormat.suffix,"")),this.el.value=s,this.numberValue=this.currencyFormat.parse(s)}else this.el.value="",this.numberValue=null;this.formattedValue=this.el.value,this.onInput(this.getValue())}addEventListener(){this.el.addEventListener("input",i=>{const{value:t,selectionStart:e}=this.el,s=i;if(e&&s.data&&$.includes(s.data)&&(this.decimalSymbolInsertedAt=e-1),this.format(t),this.focus&&e!=null){const c=()=>{const{prefix:a,suffix:m,decimalSymbol:u,maximumFractionDigits:g,groupingSymbol:r}=this.currencyFormat;let o=t.length-e;const h=this.formattedValue.length;if(this.currencyFormat.minusSign===void 0&&(t.startsWith("(")||t.startsWith("-"))&&!t.endsWith(")"))return h-this.currencyFormat.negativeSuffix.length>1?this.formattedValue.substring(e).length:1;if(this.formattedValue.substr(e,1)===r&&I(this.formattedValue,r)===I(t,r)+1)return h-o-1;if(h<o)return e;if(u!==void 0&&t.indexOf(u)!==-1){const f=t.indexOf(u)+1;if(Math.abs(h-t.length)>1&&e<=f)return this.formattedValue.indexOf(u)+1;!this.options.autoDecimalDigits&&e>f&&this.currencyFormat.onlyDigits(t.substr(f)).length-1===g&&(o-=1)}return this.options.hideCurrencySymbolOnFocus||this.options.currencyDisplay===y.hidden?h-o:Math.max(h-Math.max(o,m.length),a.length)};this.setCaretPosition(c())}}),this.el.addEventListener("focus",()=>{this.focus=!0,this.numberValueOnFocus=this.numberValue,setTimeout(()=>{const{value:i,selectionStart:t,selectionEnd:e}=this.el;if(this.format(i,this.options.hideNegligibleDecimalDigitsOnFocus),t!=null&&e!=null&&Math.abs(t-e)>0)this.setCaretPosition(0,this.el.value.length);else if(t!=null){const s=this.getCaretPositionOnFocus(i,t);this.setCaretPosition(s)}})}),this.el.addEventListener("blur",()=>{this.focus=!1,this.format(this.currencyFormat.format(this.validateValueRange(this.numberValue))),this.numberValueOnFocus!==this.numberValue&&this.onChange(this.getValue())})}getCaretPositionOnFocus(i,t){if(this.numberValue==null)return t;const{prefix:e,negativePrefix:s,suffix:c,negativeSuffix:a,groupingSymbol:m,currency:u}=this.currencyFormat,g=this.numberValue<0,r=g?s:e,o=r.length;if(this.options.hideCurrencySymbolOnFocus||this.options.currencyDisplay===y.hidden){if(g){if(t<=1)return 1;if(i.endsWith(")")&&t>i.indexOf(")"))return this.formattedValue.length-1}}else{const f=g?a.length:c.length;if(t>=i.length-f)return this.formattedValue.length-f;if(t<o)return o}let h=t;return this.options.hideCurrencySymbolOnFocus&&this.options.currencyDisplay!==y.hidden&&t>=o&&u!==void 0&&r.includes(u)&&(h-=o,g&&(h+=1)),this.options.hideGroupingSeparatorOnFocus&&m!==void 0&&(h-=I(i.substring(0,t),m)),h}setCaretPosition(i,t=i){this.el.setSelectionRange(i,t)}}const J=n=>n!=null&&n.matches("input")?n:n==null?void 0:n.querySelector("input");function K(n,i){var t,e,s,c;let a;const m=V(null),u=V(null),g=V(null),r=L(),o=(r==null?void 0:r.emit)||((e=(t=r==null?void 0:r.proxy)===null||t===void 0?void 0:t.$emit)===null||e===void 0?void 0:e.bind(r==null?void 0:r.proxy)),h=(r==null?void 0:r.props)||((s=r==null?void 0:r.proxy)===null||s===void 0?void 0:s.$props),f=w.startsWith("3"),d=f&&((c=r==null?void 0:r.attrs.modelModifiers)===null||c===void 0?void 0:c.lazy),v=A(()=>h==null?void 0:h[f?"modelValue":"value"]),b=f?"update:modelValue":"input",x=d?"update:modelValue":"change";return R(m,l=>{var D;if(l){const O=J((D=l==null?void 0:l.$el)!==null&&D!==void 0?D:l);O?(a=new j({el:O,options:n,onInput:F=>{!d&&i!==!1&&v.value!==F.number&&(o==null||o(b,F.number)),g.value=F.number,u.value=F.formatted},onChange:F=>{i!==!1&&(o==null||o(x,F.number))}}),a.setValue(v.value)):console.error('No input element found. Please make sure that the "inputRef" template ref is properly assigned.')}else a=null}),{inputRef:m,numberValue:g,formattedValue:u,setValue:l=>a==null?void 0:a.setValue(l),setOptions:l=>a==null?void 0:a.setOptions(l)}}const U={class:"form-control"},Z=["for"],H={class:"label-text"},Q=["id","required","disabled","placeholder","min","max"],ti={__name:"FormInputCurrency",props:{modelValue:Number,label:String,placeholder:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{required:!1,type:Number},max:{required:!1,type:Number}},emits:["update:modelValue"],setup(n,{emit:i}){const t=n,e=P(t.label),s={currency:"BRL",autoDecimalDigits:!0,hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1},{inputRef:c,setOptions:a,setValue:m}=K(s);return R(()=>t.modelValue,u=>{m(u),t.max&&u>t.max?c.value.setCustomValidity(`O valor deve ser menor ou igual a ${t.max}`):t.min&&u<t.min?c.value.setCustomValidity(`O valor deve ser maior ou igual a ${t.min}`):c.value.setCustomValidity("")}),(u,g)=>(G(),T("div",U,[E("label",{class:"label",for:N(e)},[E("span",H,k(n.label),1)],8,Z),E("input",{type:"text",ref_key:"inputRef",ref:c,id:N(e),class:"input input-bordered w-full max-w-xs",required:n.required,disabled:n.disabled,placeholder:n.placeholder,min:n.min,max:n.max},null,8,Q)]))}};export{ti as _};
